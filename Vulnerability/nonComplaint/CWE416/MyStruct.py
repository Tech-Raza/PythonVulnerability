from ctypes import *

import free as free


class MyStruct(Structure):
    _fields_ = [("a", c_int),
                ("b", POINTER(c_int))]


def use_freed_memory():
    obj = MyStruct()
    obj.a = 123
    obj.b = pointer(c_int(456))
    # Free the memory pointed to by obj.b
    free(obj.b)
    # Use the memory pointed to by obj.b
    print(obj.b.contents)
